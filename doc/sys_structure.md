# 技术选型
## VPS要求
1核1GB内存即可，要求CentOS 8系统，安装Miniconda 3.11版本
## 关系数据存储
使用postgresql。读写时底层细节分离。
## K线数据存储
要求：高性能、低资源占用、轻量型、时序数据库  
选型：TimescaleDB   
交易机器人运行在外部服务器，配置较低，机器人进程和数据库可能同时运行在一台机器上。  
QuestDB理论上性能更高，但JAVA写的占用内存较多30%；TimescaleDB占用5%
TimescaleDB基于PostgreSql，可同时实现关系型数据和时序数据存储。降低依赖复杂度。  
## 消息通信
为了各组件解耦，提升框架整洁度和可维护性，应该把数据的抓取更新、策略的运行、下单和通知等拆分开。  
由于可能一台机器上运行多个机器人，所以把公共数据的抓取统一放到爬虫进程。  
爬虫抓取数据后应通过socket通知订阅方（机器人或网站后端）。订阅方有新的交易对需要订阅数据时，发消息给数据爬虫进程。  
## 分布式缓存和数据共享
数据爬虫、交易系统等组件有时需要共享数据或缓存。  
为减少外部组件依赖，不使用redis等组件。爬虫直接监听端口；消费端连接端口监听消息，通过原生socket通信。


